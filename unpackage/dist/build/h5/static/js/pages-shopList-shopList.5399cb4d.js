(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shopList-shopList"],{"0411":function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{currentIndex:{type:Number,default:1}},data:function(){return{index:1,menus:[{value:1,text:"Back"},{value:2,text:"Send"}]}},created:function(){this.index=this.currentIndex},methods:{menuClick:function(t){this.index=t,this.$emit("barClick",t)}}};e.default=n},1482:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniPopup:a("be09").default,uniPopupMessage:a("ee90").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"mainPage"},[a("topBar"),a("v-uni-view",{staticClass:"center_page"},[t.shopCartList.length>0?t._l(t.shopCartList,(function(t,e){return a("goodsItem",{key:e,attrs:{data:t}})})):a("noData")],2),a("bottom-bar",{on:{barClick:function(e){arguments[0]=e=t.$handleEvent(e),t.barClick.apply(void 0,arguments)}}}),a("uni-popup",{ref:"message",attrs:{type:"message"}},[a("uni-popup-message",{attrs:{type:"msgType",message:"After your order is placed, please approach our service screw for the amendment.\n",duration:2e3}})],1)],1)},o=[]},"1b6f":function(t,e,a){"use strict";a.r(e);var n=a("83ec"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"2cf48":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.bottomBar[data-v-f5f80748]{display:flex;justify-content:space-between}.bottomBar .menuItem[data-v-f5f80748]{width:50%;text-align:center;height:%?100?%;border-top:1px solid #ddd;line-height:%?100?%;font-size:%?32?%}.bottomBar .menuItem.active[data-v-f5f80748]{color:red;box-shadow:0 0 10px #f0f0f0}.bottomBar .menuItem[data-v-f5f80748]:first-child{border-right:1px solid #ddd}',""]),t.exports=e},4755:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniNumberBox:a("13aa").default,uniIcons:a("9211").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"goodsItem"},[a("v-uni-view",{staticClass:"goods_top_b"},[a("v-uni-view",{staticClass:"goods_left"},[a("v-uni-view",{staticClass:"goods_info"},[a("v-uni-view",{staticClass:"goods_top"},[a("v-uni-view",{staticClass:"goods_name"},[t._v(t._s(t.data.product.name))]),a("v-uni-view",{staticClass:"order_num"},[a("uni-number-box",{attrs:{min:1,value:t.data.stock,isMin:!0,index:1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.numberChange.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"price"},[a("v-uni-text",{staticClass:"uint",staticStyle:{"font-size":"30rpx"}},[t._v("SGD")]),a("v-uni-text",{staticClass:"num"},[t._v(t._s(t.data.stock*t.data.product.unitPrice))])],1)],1)],1),a("v-uni-view",{staticClass:"goods_bottom"},[a("v-uni-view",{staticClass:"desc"},[t._v(t._s(t.data.product.description))]),a("v-uni-view",[t._v(t._s(t.remark))])],1)],1),a("v-uni-view",{staticClass:"goods_right"},[a("uni-icons",{staticClass:"close",attrs:{type:"close",size:"26"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteProduct()}}})],1)],1)},o=[]},"4a2d":function(t,e,a){"use strict";a.r(e);var n=a("0411"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"57b0":function(t,e,a){"use strict";var n=a("e0da"),i=a.n(n);i.a},"5f16":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bottomBar"},t._l(t.menus,(function(e,n){return a("v-uni-view",{key:n,staticClass:"menuItem",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.menuClick(e.value)}}},[t._v(t._s(e.text))])})),1)},o=[]},"6f57":function(t,e,a){"use strict";var n=a("86f5"),i=a.n(n);i.a},"6f69":function(t,e,a){"use strict";var n=a("f78e"),i=a.n(n);i.a},"83ec":function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("1da1")),o=n(a("5530")),r=n(a("e08d")),s=n(a("9a94")),u=n(a("c8d1")),c=n(a("c7e4")),d=a("26cb"),f={components:{topBar:s.default,goodsItem:u.default,bottomBar:c.default,noData:r.default},computed:(0,o.default)({},(0,d.mapState)(["shopCartList"])),data:function(){return{barIndex:1}},mounted:function(){},methods:(0,o.default)((0,o.default)({},(0,d.mapActions)(["getShopList"])),{},{purchase:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"正在加载中"}),e.next=3,uni.$http.post("/shoppingCart/purchase/"+t.$store.state.reversionId);case 3:a=e.sent,a.data,uni.showToast({title:"操作成功",icon:"exception",duration:850}),t.$refs&&t.$refs.message.open(),setTimeout((function(){uni.navigateTo({url:"../index/index"})}),2e3),t.getShopList(),uni.hideLoading();case 10:case"end":return e.stop()}}),e)})))()},checkCanOrder:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"正在加载中"}),e.next=3,uni.$http.get("/reservation/123456");case 3:a=e.sent,n=a.data,n?t.purchase():uni.showToast({title:"该用户暂无点单权限",icon:"exception",duration:850}),uni.hideLoading(),t.orderList=n;case 8:case"end":return e.stop()}}),e)})))()},change:function(t){console.log("当前模式："+t.type+",状态："+t.show)},toggle:function(){this.$refs.dialog.$refs.popup.open("")},barClick:function(t){if(console.log(t),this.barIndex=t,1==t)uni.navigateBack();else{if(console.log(this.shopCartList.length),0==this.shopCartList.length)return void uni.showToast({title:"购物车暂无可购买的商品",icon:"none",duration:850});this.checkCanOrder()}}})};e.default=f},"86f5":function(t,e,a){var n=a("a21c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("2bc6042f",n,!0,{sourceMap:!1,shadowMode:!1})},"9a94":function(t,e,a){"use strict";a.r(e);var n=a("d910"),i=a("a539");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("57b0");var r,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"ee260892",null,!1,n["a"],r);e["default"]=u.exports},a21c:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */[data-v-447ac50e] .uni-numbox__minus{padding:0 %?4?%}.goods_top_b[data-v-447ac50e]{flex:1}.goodsItem[data-v-447ac50e]{display:flex;justify-content:space-between;align-items:center}.goods_left[data-v-447ac50e]{flex:1}.goods_right[data-v-447ac50e]{width:%?80?%;color:#999;text-align:right}.goods_bottom[data-v-447ac50e]{display:flex;color:#999;font-size:%?26?%;margin-top:%?20?%}.goods_bottom .marks[data-v-447ac50e]{margin-left:%?50?%}.goods_info[data-v-447ac50e]{display:flex;justify-content:space-between;align-items:center}.goods_top[data-v-447ac50e]{margin-right:%?20?%;flex:1;display:flex;justify-content:space-between;align-items:center}.goods_top .order_num[data-v-447ac50e]{font-size:%?30?%}.goods_top .order_num uni-text[data-v-447ac50e]{padding-right:%?10?%;color:#f12f0d;font-size:%?35?%}.goodsItem[data-v-447ac50e]{padding-bottom:%?20?%;padding-top:%?20?%;border-bottom:%?1?% solid #ccc}.goodsItem .img[data-v-447ac50e]{width:%?200?%;height:%?170?%}.goodsItem .goods_info[data-v-447ac50e]{flex:1}.goodsItem .goods_name[data-v-447ac50e]{font-size:%?32?%}.goodsItem .desc[data-v-447ac50e]{font-size:%?26?%;color:#999}.price[data-v-447ac50e]{text-align:right;font-size:%?32?%;color:#f12f0d}.price .unit[data-v-447ac50e]{font-size:%?10?%;display:inline-block}.price .num[data-v-447ac50e]{padding-left:%?6?%;font-size:%?32?%;font-weight:700}.close[data-v-447ac50e]{color:#a1a1a1!important}.goods_bottom[data-v-447ac50e]{display:flex;justify-content:space-between}',""]),t.exports=e},a539:function(t,e,a){"use strict";a.r(e);var n=a("f493"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},acec:function(t,e,a){"use strict";a.r(e);var n=a("1482"),i=a("1b6f");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("6f69");var r,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"1f04d0b0",null,!1,n["a"],r);e["default"]=u.exports},b451:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.mainPage[data-v-1f04d0b0]{position:relative;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:space-between;overflow:hidden}.bottom[data-v-1f04d0b0]{height:%?100?%}.center_page[data-v-1f04d0b0]{flex:1;position:relative;overflow:auto}.center_page[data-v-1f04d0b0]{padding:%?40?% %?25?%}.container[data-v-1f04d0b0]{width:%?750?%;box-sizing:border-box;padding:%?20?%;font-size:%?14?%;line-height:%?24?%}',""]),t.exports=e},bffb:function(t,e,a){var n=a("2cf48");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("657cab5a",n,!0,{sourceMap:!1,shadowMode:!1})},c7e4:function(t,e,a){"use strict";a.r(e);var n=a("5f16"),i=a("4a2d");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("d021");var r,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"f5f80748",null,!1,n["a"],r);e["default"]=u.exports},c8d1:function(t,e,a){"use strict";a.r(e);var n=a("4755"),i=a("facf");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("6f57");var r,s=a("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"447ac50e",null,!1,n["a"],r);e["default"]=u.exports},d021:function(t,e,a){"use strict";var n=a("bffb"),i=a.n(n);i.a},d910:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"top_bar"},[n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"shop_about"},[n("v-uni-image",{attrs:{src:a("2134")}}),n("v-uni-view",{staticClass:"shopName"},[t._v("CONFIRM ORDER")])],1)],1)],1)},o=[]},e0da:function(t,e,a){var n=a("fe48");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("7848e943",n,!0,{sourceMap:!1,shadowMode:!1})},f05a:function(t,e,a){"use strict";var n=a("4ea4");a("4de4"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("ade3"));a("96cf");var o,r=n(a("1da1")),s=n(a("5530")),u=a("26cb"),c=(o={props:{data:{type:Object,default:{}}},data:function(){},computed:(0,s.default)((0,s.default)({},(0,u.mapState)(["remarkList"])),{},{remark:function(){var t=this,e=this.remarkList.filter((function(e,a){return e.id==t.data.remarkId}));return e.length>0?e[0].remark:""}}),mounted:function(){console.log(this.remarkList)}},(0,i.default)(o,"data",(function(){return{}})),(0,i.default)(o,"methods",(0,s.default)((0,s.default)({},(0,u.mapActions)(["getShopList"])),{},{deleteProduct:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"数据加载中"}),e.next=3,uni.$http.delete("/shoppingCart/"+t.data.id);case 3:a=e.sent,a.data,t.getShopList(),uni.showToast({title:"操作成功",icon:"exception",duration:850}),uni.hideLoading();case 8:case"end":return e.stop()}}),e)})))()},numberChange:function(t){this.upDateNumber(t)},upDateNumber:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return uni.showLoading({title:"数据加载中"}),n={productId:e.data?e.data.id:"",stock:t},a.next=4,uni.$http.put("/shoppingCart/"+e.data.id,n);case 4:i=a.sent,i.data,e.getShopList(),uni.hideLoading();case 8:case"end":return a.stop()}}),a)})))()}})),o);e.default=c},f493:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"shopNameTop",data:function(){return{}},methods:{goShopCartList:function(){uni.navigateTo({url:"../shopList/shopList"})}}};e.default=n},f78e:function(t,e,a){var n=a("b451");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("16fd92b0",n,!0,{sourceMap:!1,shadowMode:!1})},facf:function(t,e,a){"use strict";a.r(e);var n=a("f05a"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},fe48:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.info[data-v-ee260892]{width:100%;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;padding:%?20?%;border-bottom:1px solid #ddd}.info .shop_about[data-v-ee260892]{display:flex;align-items:center}.info .shop_about uni-image[data-v-ee260892]{width:%?80?%;height:%?80?%}.info .shop_about .shopName[data-v-ee260892]{font-size:%?34?%;color:#333;margin-left:%?20?%}.info .shopCart uni-image[data-v-ee260892]{width:%?60?%;height:%?60?%}',""]),t.exports=e}}]);